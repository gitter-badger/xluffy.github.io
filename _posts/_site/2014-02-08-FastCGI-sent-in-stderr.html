<h3 id="vn_">Vấn đề:</h3>

<p>Bạn setup nginx và php dưới dạng nginx+php-fpm. Nghĩa là khi có một request được gửi tới web server (nginx) nó sẽ tạo một kết nối bằng TCP hoặc Unix socket tới Application Server (FastCGI Server)</p>

<p>I know this isn’t a unique question, but perhaps the manifesting situation is unique. Answers found elsewhere don’t match what I believe are my circumstances.</p>

<p>I have a box hosting a few sites and, although there are no functional issues as far as I can tell, I see this message sprinkled throughout my Nginx error logs for almost every site. Everything I read points to a problem with my FastCGI params, specifically SCRIPT_FILENAME, but my value seems to be inline with what’s recommended:</p>

<p><code>fastcgi_param SCRIPT_FILENAME   $request_filename;</code></p>

<p>Am I reading the wrong recommendations? I’ve also noticed that in some cases, but not all, the host value in the log is one whose A record points to the box, but isn’t one that Nginx is listening for.</p>

<p>Any idea what might be going on? Is this error “expected” in the case of a 404, maybe?</p>

<p>I answered:</p>

<p>Nope, that’s completely out of line. The SCRIPT_FILENAME refers to the path of the file on the filesystem, not the path in the request URI.</p>

<p>Typically it should be something like:</p>

<p><code>fastcgi_param SCRIPT_FILENAME   $document_root$fastcgi_script_name;</code></p>

<p>or</p>

<p><code>fastcgi_param SCRIPT_FILENAME /usr/share/nginx/html$fastcgi_script_name;</code></p>